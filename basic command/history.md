# history

## 功能

- 用来显示指定数目的历史指令
- 读取历史命令文件中的目录到历史命令缓冲区，或者将历史命令缓冲区中的目录写入命令文件
- 在命令行中，可以使用符号!执行指定序号的历史命令。例如，要执行第2个历史命令，则输入`!2`
- 存储在内存中历史命令数量由环境变量`HISTSIZE` or `HISTFILESIZE`指定
- 在同一个user开启多个bash 登录的情况下，只有最后注销的那个 bash 才会是最后写入的数据。如此一来其他 bash 的指令操作就不会被记录下来了 。（其实有被记录，只是被后来的最后一个 bash 所覆盖更新了)

## 用法

history (选项)（参数）

## 选项

```shell
-c：清空当前shell内存中的历史命令；
-a：将历史命令缓冲区中命令写入历史命令文件histfiles中，默认写入 ~/.bash_history ；
-r：将历史命令文件中的命令读入当前shell的历史命令缓冲区；
-w：将当前历史命令缓冲区命令写入历史命令文件中。
```

## 参数

```shell
n: 指定要显示的历史命令数量
```

## 实例

```shell
列出目前最近的 3 笔资料
[dmtsai@study ~]$ history 3 1019 history 1020 history 1021 history 3

立刻将目前的资料写入 histfile 当中
[dmtsai@study ~]$ history -w # 在默认的情况下，会将历史纪录写入 ~/.bash_history 当中！

<==执行第 66 笔指令
[dmtsai@study ~]$ !66

<==执行上一个指令，本例中亦即 !66
[dmtsai@study ~]$ !!

<==执行最近以 al 为开头的指令(上头列出的第 67 个)
[dmtsai@study ~]$ !al
```
